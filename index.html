<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Rozszerzone „Pokedle” – 1. generacja (151)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px auto;
      max-width: 900px;
      text-align: center;
    }
    h1 {
      margin-bottom: 0.5em;
    }
    .section {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .hidden {
      display: none;
    }
    .input-field {
      margin: 10px 0;
    }
    .feedback {
      margin-top: 20px;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ccc;
      vertical-align: middle;
    }
    th {
      background-color: #f9f9f9;
    }
    /* Kolory w zależności od trafienia */
    .correct {
      background-color: #c4f3c4; /* zielonkawe */
    }
    .wrong {
      background-color: #f6c6c6; /* czerwonawe */
    }
    .close {
      background-color: #f9f5c4; /* żółtawe */
    }
    .sprite {
      width: 56px;
      height: 56px;
      image-rendering: pixelated; /* pikselowy styl spritów */
    }
  </style>
</head>
<body>

  <h1>Rozszerzone „Pokedle” – 1. generacja (151)</h1>

  <!-- Sekcja ustawienia docelowego Pokémona -->
  <div class="section" id="setup-section">
    <h2>Wybierz lub wylosuj Pokémona do odgadnięcia</h2>
    
    <div class="input-field">
      <label for="secretPokemon">Nazwa (lub numer) z listy (1–151):</label><br>
      <input type="text" id="secretPokemon" placeholder="np. bulbasaur lub 1">
      <button id="setSecretBtn">Ustaw</button>
      <button id="randomSecretBtn">Wylosuj</button>
    </div>
    <p>Po ustawieniu/wylosowaniu docelowego Pokémona, sekcja się ukryje, a Ty przejdziesz do zgadywania.</p>
  </div>

  <!-- Sekcja zgadywania -->
  <div class="section hidden" id="guess-section">
    <h2>Zgaduj!</h2>
    <div class="input-field">
      <label for="guessInput">Twoja propozycja (nazwa lub numer):</label><br>
      <input type="text" id="guessInput" placeholder="np. pikachu lub 25">
      <button id="guessBtn">Zgaduj</button>
    </div>
    <p>Wpisz nazwę Pokémona z 1. generacji (lub jego numer w Pokédexie).</p>
    <div id="feedback" class="feedback"></div>

    <!-- Tabela prób zgadywania -->
    <table id="guessesTable">
      <thead>
        <tr>
          <th>Próba</th>
          <th>Obrazek</th>
          <th>Nazwa</th>
          <th>Typ</th>
          <th>Generacja</th>
          <th>Siedlisko</th>
          <th>Kolor</th>
          <th>Wzrost (m)</th>
          <th>Waga (kg)</th>

        </tr>
      </thead>
      <tbody>
        <!-- Dynamika: wypełniane przez JS -->
      </tbody>
    </table>
  </div>
  <script>
    /*************************************************
     *  PEŁNA LISTA POKÉMONÓW (GEN. 1: #1–#151)       *
     *  Każdy obiekt ma:                             *
     *  id, name, type, generation, height, weight,  *
     *  image (sprit z PokeAPI)                      *
     *************************************************/
    const pokemons = [
      { id: 1, name: 'bulbasaur', type: ['grass', 'poison'], generation: 1, height: 0.7, weight: 6.9, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png' },
      { id: 2, name: 'ivysaur', type: ['grass', 'poison'], generation: 1, height: 1.0, weight: 13.0, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/2.png' },
      { id: 3, name: 'venusaur', type: ['grass', 'poison'], generation: 1, height: 2.0, weight: 100.0, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/3.png' },
      { id: 4, name: 'charmander', type: ['fire'], generation: 1, height: 0.6, weight: 8.5, color: 'red', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png' },
      { id: 5, name: 'charmeleon', type: ['fire'], generation: 1, height: 1.1, weight: 19.0, color: 'red', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/5.png' },
      { id: 6, name: 'charizard', type: ['fire', 'flying'], generation: 1, height: 1.7, weight: 90.5, color: 'orange', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/6.png' },
      { id: 7, name: 'squirtle', type: ['water'], generation: 1, height: 0.5, weight: 9.0, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/7.png' },
      { id: 8, name: 'wartortle', type: ['water'], generation: 1, height: 1.0, weight: 22.5, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/8.png' },
      { id: 9, name: 'blastoise', type: ['water'], generation: 1, height: 1.6, weight: 85.5, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/9.png' },
      { id: 10, name: 'caterpie', type: ['bug'], generation: 1, height: 0.3, weight: 2.9, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/10.png' },
      { id: 11, name: 'metapod', type: ['bug'], generation: 1, height: 0.7, weight: 9.9, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/11.png' },
      { id: 12, name: 'butterfree', type: ['bug', 'flying'], generation: 1, height: 1.1, weight: 32.0, color: 'white', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/12.png' },
      { id: 13, name: 'weedle', type: ['bug', 'poison'], generation: 1, height: 0.3, weight: 3.2, color: 'yellow', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/13.png' },
      { id: 14, name: 'kakuna', type: ['bug', 'poison'], generation: 1, height: 0.6, weight: 10.0, color: 'yellow', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/14.png' },
      { id: 15, name: 'beedrill', type: ['bug', 'poison'], generation: 1, height: 1.0, weight: 29.5, color: 'yellow', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/15.png' },
      { id: 16, name: 'pidgey', type: ['normal', 'flying'], generation: 1, height: 0.3, weight: 1.8, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png' },
      { id: 17, name: 'pidgeotto', type: ['normal', 'flying'], generation: 1, height: 1.1, weight: 30.0, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/17.png' },
      { id: 18, name: 'pidgeot', type: ['normal', 'flying'], generation: 1, height: 1.5, weight: 39.5, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/18.png' },
      { id: 19, name: 'rattata', type: ['normal'], generation: 1, height: 0.3, weight: 3.5, color: 'purple', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/19.png' },
      { id: 20, name: 'raticate', type: ['normal'], generation: 1, height: 0.7, weight: 18.5, color: 'purple', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/20.png' },
      { id: 21, name: 'spearow', type: ['normal', 'flying'], generation: 1, height: 0.3, weight: 2.0, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/21.png' },
      { id: 22, name: 'fearow', type: ['normal', 'flying'], generation: 1, height: 1.2, weight: 38.0, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/22.png' },
      { id: 23, name: 'ekans', type: ['poison'], generation: 1, height: 2.0, weight: 6.9, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/23.png' },
      { id: 24, name: 'arbok', type: ['poison'], generation: 1, height: 3.5, weight: 65.0, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/24.png' },
      { id: 25, name: 'pikachu', type: ['electric'], generation: 1, height: 0.4, weight: 6.0, color: 'yellow', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png' },
      { id: 26, name: 'raichu', type: ['electric'], generation: 1, height: 0.8, weight: 30.0, color: 'yellow', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/26.png' },
      { id: 27, name: 'sandshrew', type: ['ground'], generation: 1, height: 0.6, weight: 12.0, color: 'yellow', habitat: 'desert', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/27.png' },
      { id: 28, name: 'sandslash', type: ['ground'], generation: 1, height: 1.0, weight: 29.5, color: 'yellow', habitat: 'desert', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/28.png' },
      { id: 29, name: 'nidoran♀', type: ['poison'], generation: 1, height: 0.4, weight: 7.0, color: 'blue', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/29.png' },
      { id: 30, name: 'nidorina', type: ['poison'], generation: 1, height: 0.8, weight: 20.0, color: 'blue', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/30.png' },
      { id: 31, name: 'nidoqueen', type: ['poison', 'ground'], generation: 1, height: 1.3, weight: 60.0, color: 'blue', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/31.png' },
      { id: 32, name: 'nidoran♂', type: ['poison'], generation: 1, height: 0.5, weight: 9.0, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png' },
      { id: 33, name: 'nidorino', type: ['poison'], generation: 1, height: 0.9, weight: 19.5, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/33.png' },
      { id: 34, name: 'nidoking', type: ['poison', 'ground'], generation: 1, height: 1.4, weight: 62.0, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/34.png' },
      { id: 35, name: 'clefairy', type: ['fairy'], generation: 1, height: 0.6, weight: 7.5, color: 'pink', habitat: 'moon', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/35.png' },
      { id: 36, name: 'clefable', type: ['fairy'], generation: 1, height: 1.3, weight: 40.0, color: 'pink', habitat: 'moon', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/36.png' },
      { id: 37, name: 'vulpix', type: ['fire'], generation: 1, height: 0.6, weight: 9.9, color: 'red', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/37.png' },
      { id: 38, name: 'ninetales', type: ['fire'], generation: 1, height: 1.1, weight: 19.9, color: 'red', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/38.png' },
      { id: 39, name: 'jigglypuff', type: ['normal', 'fairy'], generation: 1, height: 0.5, weight: 5.5, color: 'pink', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/39.png' },
      { id: 40, name: 'wigglytuff', type: ['normal', 'fairy'], generation: 1, height: 1.0, weight: 12.0, color: 'pink', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/40.png' },
         { id: 41, name: 'zubat', type: ['poison', 'flying'], generation: 1, height: 0.8, weight: 7.5, color: 'green', habitat: 'cave', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png' },
      { id: 42, name: 'golbat', type: ['poison', 'flying'], generation: 1, height: 1.6, weight: 55.0, color: 'green', habitat: 'cave', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/42.png' },
      { id: 43, name: 'oddish', type: ['grass', 'poison'], generation: 1, height: 0.5, weight: 5.4, color: 'blue', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/43.png' },
      { id: 44, name: 'gloom', type: ['grass', 'poison'], generation: 1, height: 0.8, weight: 8.6, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/44.png' },
      { id: 45, name: 'vileplume', type: ['grass', 'poison'], generation: 1, height: 1.2, weight: 18.6, color: 'red', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/45.png' },
      { id: 46, name: 'paras', type: ['bug', 'grass'], generation: 1, height: 0.3, weight: 5.4, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/46.png' },
      { id: 47, name: 'parasect', type: ['bug', 'grass'], generation: 1, height: 1.0, weight: 29.5, color: 'brown', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/47.png' },
      { id: 48, name: 'venonat', type: ['bug', 'poison'], generation: 1, height: 0.6, weight: 10.0, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/48.png' },
      { id: 49, name: 'venomoth', type: ['bug', 'poison'], generation: 1, height: 1.5, weight: 12.5, color: 'purple', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/49.png' },
      { id: 50, name: 'diglett', type: ['ground'], generation: 1, height: 0.2, weight: 0.8, color: 'brown', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/50.png' },
      { id: 51, name: 'dugtrio', type: ['ground'], generation: 1, height: 0.7, weight: 33.3, color: 'brown', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/51.png' },
      { id: 52, name: 'meowth', type: ['normal'], generation: 1, height: 0.4, weight: 4.2, color: 'yellow', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/52.png' },
      { id: 53, name: 'persian', type: ['normal'], generation: 1, height: 1.0, weight: 32.0, color: 'purple', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/53.png' },
      { id: 54, name: 'psyduck', type: ['water'], generation: 1, height: 0.8, weight: 19.6, color: 'yellow', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/54.png' },
      { id: 55, name: 'golduck', type: ['water'], generation: 1, height: 1.7, weight: 76.6, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/55.png' },
      { id: 56, name: 'mankey', type: ['fighting'], generation: 1, height: 0.5, weight: 28.0, color: 'yellow', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/56.png' },
      { id: 57, name: 'primeape', type: ['fighting'], generation: 1, height: 1.0, weight: 32.0, color: 'white', habitat: 'forest', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/57.png' },
      { id: 58, name: 'growlithe', type: ['fire'], generation: 1, height: 0.6, weight: 19.0, color: 'orange', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/58.png' },
      { id: 59, name: 'arcanine', type: ['fire'], generation: 1, height: 1.9, weight: 155.0, color: 'orange', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/59.png' },
      { id: 60, name: 'poliwag', type: ['water'], generation: 1, height: 0.6, weight: 12.4, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/60.png' },
      { id: 61, name: 'poliwhirl', type: ['water'], generation: 1, height: 1.0, weight: 20.0, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/61.png' },
      { id: 62, name: 'poliwrath', type: ['water', 'fighting'], generation: 1, height: 1.3, weight: 54.0, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/62.png' },
      { id: 63, name: 'abra', type: ['psychic'], generation: 1, height: 0.9, weight: 19.5, color: 'yellow', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/63.png' },
      { id: 64, name: 'kadabra', type: ['psychic'], generation: 1, height: 1.3, weight: 56.5, color: 'yellow', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/64.png' },
      { id: 65, name: 'alakazam', type: ['psychic'], generation: 1, height: 1.5, weight: 48.0, color: 'yellow', habitat: 'urban', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/65.png' },
      { id: 66, name: 'machop', type: ['fighting'], generation: 1, height: 0.8, weight: 19.5, color: 'blue', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/66.png' },
      { id: 67, name: 'machoke', type: ['fighting'], generation: 1, height: 1.5, weight: 70.5, color: 'blue', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/67.png' },
      { id: 68, name: 'machamp', type: ['fighting'], generation: 1, height: 1.6, weight: 130.0, color: 'blue', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/68.png' },
      { id: 69, name: 'bellsprout', type: ['grass', 'poison'], generation: 1, height: 0.7, weight: 4.0, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/69.png' },
      { id: 70, name: 'weepinbell', type: ['grass', 'poison'], generation: 1, height: 1.0, weight: 6.4, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/70.png' },
      { id: 71, name: 'victreebel', type: ['grass', 'poison'], generation: 1, height: 1.7, weight: 15.5, color: 'green', habitat: 'grassland', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/71.png' },
      { id: 72, name: 'tentacool', type: ['water', 'poison'], generation: 1, height: 0.9, weight: 35.0, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/72.png' },
      { id: 73, name: 'tentacruel', type: ['water', 'poison'], generation: 1, height: 1.6, weight: 55.0, color: 'blue', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/73.png' },
      { id: 74, name: 'geodude', type: ['rock', 'ground'], generation: 1, height: 0.4, weight: 20.0, color: 'gray', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/74.png' },
      { id: 75, name: 'graveler', type: ['rock', 'ground'], generation: 1, height: 1.0, weight: 105.0, color: 'gray', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/75.png' },
      { id: 76, name: 'golem', type: ['rock', 'ground'], generation: 1, height: 1.4, weight: 300.0, color: 'gray', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/76.png' },
      { id: 77, name: 'ponyta', type: ['fire'], generation: 1, height: 1.0, weight: 30.0, color: 'yellow', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/77.png' },
      { id: 78, name: 'rapidash', type: ['fire'], generation: 1, height: 1.7, weight: 95.0, color: 'yellow', habitat: 'mountain', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/78.png' },
      { id: 79, name: 'slowpoke', type: ['water', 'psychic'], generation: 1, height: 1.2, weight: 36.0, color: 'pink', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/79.png' },
      { id: 80, name: 'slowbro', type: ['water', 'psychic'], generation: 1, height: 1.6, weight: 78.5, color: 'pink', habitat: 'water\'s edge', image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/80.png' },
     {
    id: 81,
    name: 'magnemite',
    type: ['electric', 'steel'],
    generation: 1,
    height: 0.3,
    weight: 6.0,
    color: 'gray',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/81.png'
  },
  {
    id: 82,
    name: 'magneton',
    type: ['electric', 'steel'],
    generation: 1,
    height: 1.0,
    weight: 60.0,
    color: 'gray',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/82.png'
  },
  {
    id: 83,
    name: "farfetch'd",
    type: ['normal', 'flying'],
    generation: 1,
    height: 0.8,
    weight: 15.0,
    color: 'brown',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/83.png'
  },
  {
    id: 84,
    name: 'doduo',
    type: ['normal', 'flying'],
    generation: 1,
    height: 1.4,
    weight: 39.2,
    color: 'brown',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/84.png'
  },
  {
    id: 85,
    name: 'dodrio',
    type: ['normal', 'flying'],
    generation: 1,
    height: 1.8,
    weight: 85.2,
    color: 'brown',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/85.png'
  },
  {
    id: 86,
    name: 'seel',
    type: ['water'],
    generation: 1,
    height: 1.1,
    weight: 90.0,
    color: 'white',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/86.png'
  },
  {
    id: 87,
    name: 'dewgong',
    type: ['water', 'ice'],
    generation: 1,
    height: 1.7,
    weight: 120.0,
    color: 'white',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/87.png'
  },
  {
    id: 88,
    name: 'grimer',
    type: ['poison'],
    generation: 1,
    height: 0.9,
    weight: 30.0,
    color: 'purple',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/88.png'
  },
  {
    id: 89,
    name: 'muk',
    type: ['poison'],
    generation: 1,
    height: 1.2,
    weight: 30.0,
    color: 'purple',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/89.png'
  },
  {
    id: 90,
    name: 'shellder',
    type: ['water'],
    generation: 1,
    height: 0.3,
    weight: 4.0,
    color: 'purple',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/90.png'
  },
  {
    id: 91,
    name: 'cloyster',
    type: ['water', 'ice'],
    generation: 1,
    height: 1.5,
    weight: 132.5,
    color: 'purple',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/91.png'
  },
  {
    id: 92,
    name: 'gastly',
    type: ['ghost', 'poison'],
    generation: 1,
    height: 1.3,
    weight: 0.1,
    color: 'purple',
    habitat: 'cave',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png'
  },
  {
    id: 93,
    name: 'haunter',
    type: ['ghost', 'poison'],
    generation: 1,
    height: 1.6,
    weight: 0.1,
    color: 'purple',
    habitat: 'cave',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/93.png'
  },
  {
    id: 94,
    name: 'gengar',
    type: ['ghost', 'poison'],
    generation: 1,
    height: 1.5,
    weight: 40.5,
    color: 'purple',
    habitat: 'cave',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/94.png'
  },
  {
    id: 95,
    name: 'onix',
    type: ['rock', 'ground'],
    generation: 1,
    height: 8.8,
    weight: 210.0,
    color: 'gray',
    habitat: 'cave',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/95.png'
  },
  {
    id: 96,
    name: 'drowzee',
    type: ['psychic'],
    generation: 1,
    height: 1.0,
    weight: 32.4,
    color: 'yellow',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/96.png'
  },
  {
    id: 97,
    name: 'hypno',
    type: ['psychic'],
    generation: 1,
    height: 1.6,
    weight: 75.6,
    color: 'yellow',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/97.png'
  },
  {
    id: 98,
    name: 'krabby',
    type: ['water'],
    generation: 1,
    height: 0.4,
    weight: 6.5,
    color: 'red',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/98.png'
  },
  {
    id: 99,
    name: 'kingler',
    type: ['water'],
    generation: 1,
    height: 1.3,
    weight: 60.0,
    color: 'red',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/99.png'
  },
  {
    id: 100,
    name: 'voltorb',
    type: ['electric'],
    generation: 1,
    height: 0.5,
    weight: 10.4,
    color: 'red',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/100.png'
  },
  {
    id: 101,
    name: 'electrode',
    type: ['electric'],
    generation: 1,
    height: 1.2,
    weight: 66.6,
    color: 'red',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/101.png'
  },
  {
    id: 102,
    name: 'exeggcute',
    type: ['grass', 'psychic'],
    generation: 1,
    height: 0.4,
    weight: 2.5,
    color: 'pink',
    habitat: 'forest',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/102.png'
  },
  {
    id: 103,
    name: 'exeggutor',
    type: ['grass', 'psychic'],
    generation: 1,
    height: 2.0,
    weight: 120.0,
    color: 'yellow',
    habitat: 'forest',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/103.png'
  },
  {
    id: 104,
    name: 'cubone',
    type: ['ground'],
    generation: 1,
    height: 0.4,
    weight: 6.5,
    color: 'brown',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/104.png'
  },
  {
    id: 105,
    name: 'marowak',
    type: ['ground'],
    generation: 1,
    height: 1.0,
    weight: 45.0,
    color: 'brown',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/105.png'
  },
  {
    id: 106,
    name: 'hitmonlee',
    type: ['fighting'],
    generation: 1,
    height: 1.5,
    weight: 49.8,
    color: 'brown',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/106.png'
  },
  {
    id: 107,
    name: 'hitmonchan',
    type: ['fighting'],
    generation: 1,
    height: 1.4,
    weight: 50.2,
    color: 'brown',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/107.png'
  },
  {
    id: 108,
    name: 'lickitung',
    type: ['normal'],
    generation: 1,
    height: 1.2,
    weight: 65.5,
    color: 'pink',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/108.png'
  },
  {
    id: 109,
    name: 'koffing',
    type: ['poison'],
    generation: 1,
    height: 0.6,
    weight: 1.0,
    color: 'purple',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/109.png'
  },
  {
    id: 110,
    name: 'weezing',
    type: ['poison'],
    generation: 1,
    height: 1.2,
    weight: 9.5,
    color: 'purple',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/110.png'
  },
  {
    id: 111,
    name: 'rhyhorn',
    type: ['ground', 'rock'],
    generation: 1,
    height: 1.0,
    weight: 115.0,
    color: 'gray',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/111.png'
  },
  {
    id: 112,
    name: 'rhydon',
    type: ['ground', 'rock'],
    generation: 1,
    height: 1.9,
    weight: 120.0,
    color: 'gray',
    habitat: 'rough-terrain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/112.png'
  },
  {
    id: 113,
    name: 'chansey',
    type: ['normal'],
    generation: 1,
    height: 1.1,
    weight: 34.6,
    color: 'pink',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/113.png'
  },
  {
    id: 114,
    name: 'tangela',
    type: ['grass'],
    generation: 1,
    height: 1.0,
    weight: 35.0,
    color: 'blue',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/114.png'
  },
  {
    id: 115,
    name: 'kangaskhan',
    type: ['normal'],
    generation: 1,
    height: 2.2,
    weight: 80.0,
    color: 'brown',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/115.png'
  },
  {
    id: 116,
    name: 'horsea',
    type: ['water'],
    generation: 1,
    height: 0.4,
    weight: 8.0,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/116.png'
  },
  {
    id: 117,
    name: 'seadra',
    type: ['water'],
    generation: 1,
    height: 1.2,
    weight: 25.0,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/117.png'
  },
  {
    id: 118,
    name: 'goldeen',
    type: ['water'],
    generation: 1,
    height: 0.6,
    weight: 15.0,
    color: 'red',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/118.png'
  },
  {
    id: 119,
    name: 'seaking',
    type: ['water'],
    generation: 1,
    height: 1.3,
    weight: 39.0,
    color: 'red',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/119.png'
  },
  {
    id: 120,
    name: 'staryu',
    type: ['water'],
    generation: 1,
    height: 0.8,
    weight: 34.5,
    color: 'brown',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/120.png'
  },
  {
    id: 121,
    name: 'starmie',
    type: ['water', 'psychic'],
    generation: 1,
    height: 1.1,
    weight: 80.0,
    color: 'purple',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/121.png'
  },
  {
    id: 122,
    name: 'mr. mime',
    type: ['psychic', 'fairy'],
    generation: 1,
    height: 1.3,
    weight: 54.5,
    color: 'pink',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/122.png'
  },
  {
    id: 123,
    name: 'scyther',
    type: ['bug', 'flying'],
    generation: 1,
    height: 1.5,
    weight: 56.0,
    color: 'green',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/123.png'
  },
  {
    id: 124,
    name: 'jynx',
    type: ['ice', 'psychic'],
    generation: 1,
    height: 1.4,
    weight: 40.6,
    color: 'red',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/124.png'
  },
  {
    id: 125,
    name: 'electabuzz',
    type: ['electric'],
    generation: 1,
    height: 1.1,
    weight: 30.0,
    color: 'yellow',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/125.png'
  },
  {
    id: 126,
    name: 'magmar',
    type: ['fire'],
    generation: 1,
    height: 1.3,
    weight: 44.5,
    color: 'red',
    habitat: 'mountain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/126.png'
  },
  {
    id: 127,
    name: 'pinsir',
    type: ['bug'],
    generation: 1,
    height: 1.5,
    weight: 55.0,
    color: 'brown',
    habitat: 'forest',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/127.png'
  },
  {
    id: 128,
    name: 'tauros',
    type: ['normal'],
    generation: 1,
    height: 1.4,
    weight: 88.4,
    color: 'brown',
    habitat: 'grassland',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/128.png'
  },
  {
    id: 129,
    name: 'magikarp',
    type: ['water'],
    generation: 1,
    height: 0.9,
    weight: 10.0,
    color: 'red',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/129.png'
  },
  {
    id: 130,
    name: 'gyarados',
    type: ['water', 'flying'],
    generation: 1,
    height: 6.5,
    weight: 235.0,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/130.png'
  },
  {
    id: 131,
    name: 'lapras',
    type: ['water', 'ice'],
    generation: 1,
    height: 2.5,
    weight: 220.0,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/131.png'
  },
  {
    id: 132,
    name: 'ditto',
    type: ['normal'],
    generation: 1,
    height: 0.3,
    weight: 4.0,
    color: 'purple',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/132.png'
  },
  {
    id: 133,
    name: 'eevee',
    type: ['normal'],
    generation: 1,
    height: 0.3,
    weight: 6.5,
    color: 'brown',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/133.png'
  },
  {
    id: 134,
    name: 'vaporeon',
    type: ['water'],
    generation: 1,
    height: 1.0,
    weight: 29.0,
    color: 'blue',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/134.png'
  },
  {
    id: 135,
    name: 'jolteon',
    type: ['electric'],
    generation: 1,
    height: 0.8,
    weight: 24.5,
    color: 'yellow',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/135.png'
  },
  {
    id: 136,
    name: 'flareon',
    type: ['fire'],
    generation: 1,
    height: 0.9,
    weight: 25.0,
    color: 'red',
    habitat: 'urban',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/136.png'
  },
  {
    id: 137,
    name: 'porygon',
    type: ['normal'],
    generation: 1,
    height: 0.8,
    weight: 36.5,
    color: 'pink',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/137.png'
  },
  {
    id: 138,
    name: 'omanyte',
    type: ['rock', 'water'],
    generation: 1,
    height: 0.4,
    weight: 7.5,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/138.png'
  },
  {
    id: 139,
    name: 'omastar',
    type: ['rock', 'water'],
    generation: 1,
    height: 1.0,
    weight: 35.0,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/139.png'
  },
  {
    id: 140,
    name: 'kabuto',
    type: ['rock', 'water'],
    generation: 1,
    height: 0.5,
    weight: 11.5,
    color: 'brown',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/140.png'
  },
  {
    id: 141,
    name: 'kabutops',
    type: ['rock', 'water'],
    generation: 1,
    height: 1.3,
    weight: 40.5,
    color: 'brown',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/141.png'
  },
  {
    id: 142,
    name: 'aerodactyl',
    type: ['rock', 'flying'],
    generation: 1,
    height: 1.8,
    weight: 59.0,
    color: 'purple',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/142.png'
  },
  {
    id: 143,
    name: 'snorlax',
    type: ['normal'],
    generation: 1,
    height: 2.1,
    weight: 460.0,
    color: 'black',
    habitat: 'mountain',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/143.png'
  },
  {
    id: 144,
    name: 'articuno',
    type: ['ice', 'flying'],
    generation: 1,
    height: 1.7,
    weight: 55.4,
    color: 'blue',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/144.png'
  },
  {
    id: 145,
    name: 'zapdos',
    type: ['electric', 'flying'],
    generation: 1,
    height: 1.6,
    weight: 52.6,
    color: 'yellow',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/145.png'
  },
  {
    id: 146,
    name: 'moltres',
    type: ['fire', 'flying'],
    generation: 1,
    height: 2.0,
    weight: 60.0,
    color: 'yellow',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/146.png'
  },
  {
    id: 147,
    name: 'dratini',
    type: ['dragon'],
    generation: 1,
    height: 1.8,
    weight: 3.3,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/147.png'
  },
  {
    id: 148,
    name: 'dragonair',
    type: ['dragon'],
    generation: 1,
    height: 4.0,
    weight: 16.5,
    color: 'blue',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/148.png'
  },
  {
    id: 149,
    name: 'dragonite',
    type: ['dragon', 'flying'],
    generation: 1,
    height: 2.2,
    weight: 210.0,
    color: 'brown',
    habitat: 'sea',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/149.png'
  },
  {
    id: 150,
    name: 'mewtwo',
    type: ['psychic'],
    generation: 1,
    height: 2.0,
    weight: 122.0,
    color: 'purple',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/150.png'
  },
  {
    id: 151,
    name: 'mew',
    type: ['psychic'],
    generation: 1,
    height: 0.4,
    weight: 4.0,
    color: 'pink',
    habitat: 'rare',
    image: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/151.png'
  }
];


   // Zmienna przechowująca POKÉMONA-TAJEMNICĘ
    let secretPokemon = null;
    let guessCount = 0;

    // Referencje do elementów HTML
    const setupSection       = document.getElementById('setup-section');
    const guessSection       = document.getElementById('guess-section');
    const secretPokemonInput = document.getElementById('secretPokemon');
    const setSecretBtn       = document.getElementById('setSecretBtn');
    const randomSecretBtn    = document.getElementById('randomSecretBtn');
    const guessInput         = document.getElementById('guessInput');
    const guessBtn           = document.getElementById('guessBtn');
    const feedbackEl         = document.getElementById('feedback');
    const guessesTableBody   = document.getElementById('guessesTable').querySelector('tbody');

    /**
     * Funkcja pomocnicza do znalezienia Pokémona po:
     *  - nazwie (lowercase),
     *  - numerze (id) w Pokédexie.
     * Zwraca obiekt Pokémona lub `undefined`, jeśli nie znaleziono.
     */
    function findPokemon(input) {
      const lower = input.toString().trim().toLowerCase();

      // 1) Czy to liczba?
      const asNumber = Number(lower);
      if (!isNaN(asNumber) && asNumber > 0) {
        return pokemons.find(p => p.id === asNumber);
      }
      // 2) W innym wypadku szukamy po nazwie
      return pokemons.find(p => p.name.toLowerCase() === lower);
    }

    /**
     * Ustawia (lub losuje) Pokémona-sekret.
     */
    function setSecret(pokemonNameOrId) {
      if (pokemonNameOrId) {
        const found = findPokemon(pokemonNameOrId);
        if (!found) {
          alert('Nie znaleziono takiego Pokémona w Gen.1!');
          return;
        }
        secretPokemon = found;
      } else {
        // Losowo wybieramy z tablicy
        const randIndex = Math.floor(Math.random() * pokemons.length);
        secretPokemon = pokemons[randIndex];
      }
      // Reset liczby prób i tabeli
      guessCount = 0;
      guessesTableBody.innerHTML = '';

      // Ukrywamy sekcję ustawień, pokazujemy sekcję zgadywania
      setupSection.classList.add('hidden');
      guessSection.classList.remove('hidden');
      feedbackEl.textContent = `Pokémon #${secretPokemon.id} został ustawiony. Zgaduj!`;
    }

    /**
     * Porównuje parametry guessed vs secret, zwraca obiekt z info:
     * - nameCorrect: boolean
     * - typeMatch: 'perfect' | 'partial' | 'none'
     * - generationInfo: 'poprawna' | 'za niska' | 'za wysoka'
     * - heightInfo: 'poprawny' | 'za niski' | 'za wysoki'
     * - weightInfo: 'poprawna' | 'za niska' | 'za wysoka'
     */
    function comparePokemons(guessed, secret) {
      const result = {
        nameCorrect: guessed.id === secret.id, // lub: guessed.name === secret.name
        typeMatch: 'none',
        generationInfo: '',
        heightInfo: '',
        weightInfo: ''
      };

      // 1. Typ
      // Sprawdzamy, czy typy są identyczne, częściowe lub wcale się nie pokrywają
      const guessedTypes = guessed.type.map(t => t.toLowerCase());
      const secretTypes  = secret.type.map(t => t.toLowerCase());

      // Ile typów się pokrywa?
      const intersection = guessedTypes.filter(t => secretTypes.includes(t));

      if (intersection.length === secretTypes.length && guessedTypes.length === secretTypes.length) {
        result.typeMatch = 'perfect';
      } else if (intersection.length > 0) {
        result.typeMatch = 'partial';
      } else {
        result.typeMatch = 'none';
      }

      // 2. Generacja
      if (guessed.generation === secret.generation) {
        result.generationInfo = 'poprawna';
      } else if (guessed.generation < secret.generation) {
        result.generationInfo = 'za niska';
      } else {
        result.generationInfo = 'za wysoka';
      }

      // 3. Wzrost
      if (guessed.height === secret.height) {
        result.heightInfo = 'poprawny';
      } else if (guessed.height < secret.height) {
        result.heightInfo = 'za niski';
      } else {
        result.heightInfo = 'za wysoki';
      }

      // 4. Waga
      if (guessed.weight === secret.weight) {
        result.weightInfo = 'poprawna';
      } else if (guessed.weight < secret.weight) {
        result.weightInfo = 'za niska';
      } else {
        result.weightInfo = 'za wysoka';
      }

      return result;
    }

    /**
     * Funkcja obsługująca dodanie wiersza z wynikiem próby.
     */
    function addGuessRow(guessed, comparison) {
      guessCount++;
      const row = document.createElement('tr');

      // Kolumna 1: numer próby
      const attemptCell = document.createElement('td');
      attemptCell.textContent = guessCount;
      row.appendChild(attemptCell);

      // Kolumna 2: obrazek
      const imgCell = document.createElement('td');
      const img = document.createElement('img');
      img.src = guessed.image;
      img.alt = guessed.name;
      img.className = 'sprite';
      imgCell.appendChild(img);
      row.appendChild(imgCell);

      // Kolumna 3: nazwa
      const nameCell = document.createElement('td');
      nameCell.textContent = guessed.name;
      nameCell.className = comparison.nameCorrect ? 'correct' : 'wrong';
      row.appendChild(nameCell);

      // Kolumna 4: typ
      const typeCell = document.createElement('td');
      typeCell.textContent = guessed.type.join(', ');
      if (comparison.typeMatch === 'perfect') {
        typeCell.className = 'correct';
      } else if (comparison.typeMatch === 'partial') {
        typeCell.className = 'close';
      } else {
        typeCell.className = 'wrong';
      }
      row.appendChild(typeCell);

      // Kolumna 5: generacja
      const genCell = document.createElement('td');
      genCell.textContent = guessed.generation + ` (${comparison.generationInfo})`;
      if (comparison.generationInfo === 'poprawna') {
        genCell.className = 'correct';
      } else {
        genCell.className = 'wrong';
      }
      row.appendChild(genCell);

       // Kolumna 8: siedlisko
      const habitatCell = document.createElement('td');
      habitatCell.textContent = guessed.habitat;
      habitatCell.className = comparison.habitatInfo === 'poprawne' ? 'correct' : 'wrong';
      row.appendChild(habitatCell);

      // Kolumna 9: kolor
      const colorCell = document.createElement('td');
      colorCell.textContent = guessed.color;
      colorCell.className = comparison.colorInfo === 'poprawny' ? 'correct' : 'wrong';
      row.appendChild(colorCell);

      // Kolumna 6: wzrost
      const heightCell = document.createElement('td');
      heightCell.textContent = guessed.height + ` (${comparison.heightInfo})`;
      if (comparison.heightInfo === 'poprawny') {
        heightCell.className = 'correct';
      } else {
        heightCell.className = 'wrong';
      }
      row.appendChild(heightCell);

      // Kolumna 7: waga
      const weightCell = document.createElement('td');
      weightCell.textContent = guessed.weight + ` (${comparison.weightInfo})`;
      if (comparison.weightInfo === 'poprawna') {
        weightCell.className = 'correct';
      } else {
        weightCell.className = 'wrong';
      }
      row.appendChild(weightCell);

    

      guessesTableBody.appendChild(row);
    }

    // Obsługa kliknięcia przycisku "Ustaw"
    setSecretBtn.addEventListener('click', function() {
      setSecret(secretPokemonInput.value);
    });

    // Obsługa kliknięcia przycisku "Wylosuj"
    randomSecretBtn.addEventListener('click', function() {
      setSecret();
    });

    // Obsługa zgadywania
    guessBtn.addEventListener('click', function() {
      const guess = guessInput.value.trim();
      if (!guess) return;

      const guessed = findPokemon(guess);
      if (!guessed) {
        alert('Nie znaleziono tego Pokémona!');
        return;
      }

      const comparison = comparePokemons(guessed, secretPokemon);
      addGuessRow(guessed, comparison);

      // Pokazujemy odpowiednią wiadomość
      if (comparison.nameCorrect) {
        feedbackEl.textContent = `Brawo! Zgadłeś ${guessed.name}!`;
      } else {
        feedbackEl.textContent = `Nie, spróbuj ponownie.`;
      }
    });
  </script>

</body>
</html>
